diff -ruNw ./src/H5private.h /d/Dropbox/Baylor/GitHub/hdf5lib/src/hdf5-1.14.6/src/H5private.h
--- ./src/H5private.h	2025-10-21 23:54:54.491694000 +0000
+++ /d/Dropbox/Baylor/GitHub/hdf5lib/src/hdf5-1.14.6/src/H5private.h	2025-10-22 21:25:02.186899900 +0000
@@ -865,9 +865,15 @@
 #ifndef HDstrcasecmp
 #define HDstrcasecmp(X, Y) strcasecmp(X, Y)
 #endif
-#ifndef HDstrndup
-#define HDstrndup(S, N) strndup(S, N)
-#endif
+/*
+ * A safe string duplication routine.
+ * The R build environment on Windows (MinGW) incorrectly reports that it has a
+ * working strndup, but the declaration is hidden during compilation by strict
+ * C flags. To fix this, we unconditionally use HDF5's internal implementation.
+ */
+H5_DLL char *H5_strndup_win(const char *s, size_t n);
+#undef HDstrndup
+#define HDstrndup(S, N) H5_strndup_win(S, N)
 #ifndef HDstrtok_r
 #define HDstrtok_r(X, Y, Z) strtok_r(X, Y, Z)
 #endif
@@ -878,13 +884,15 @@
 #define HDunsetenv(S) unsetenv(S)
 #endif
 
-#ifndef HDvasprintf
-#ifdef H5_HAVE_VASPRINTF
-#define HDvasprintf(RET, FMT, A) vasprintf(RET, FMT, A)
-#else
-H5_DLL int HDvasprintf(char **bufp, const char *fmt, va_list _ap);
-#endif
-#endif
+/*
+ * A routine to format a string and return it (free'd by caller)
+ * Patched for hdf5lib R package: The R/MinGW build environment
+ * incorrectly defines H5_HAVE_VASPRINTF but then hides the declaration.
+ * We unconditionally use the internal Windows implementation.
+ */
+H5_DLL int H5_vasprintf_win(char **ret, const char *fmt, va_list ap);
+#undef HDvasprintf
+#define HDvasprintf(RET, FMT, A) H5_vasprintf_win(RET, FMT, A)
 
 #ifndef HDwrite
 #define HDwrite(F, M, Z) write(F, M, Z)
